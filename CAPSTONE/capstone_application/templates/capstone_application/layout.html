<!DOCTYPE html>
<html lang="en">
<head>
    <title>Capstone</title>
    <link rel="stylesheet" href="static/style.css">
    <script src="static/index.js"></script>
</head>
<body>

    <h1 class="title">Solar System</h1>

    {% block body %}
    
    {% endblock %}
        <div id = "canvas">
            <script src="https://threejs.org/build/three.js"></script>
            <script type="module">
                import {OrbitControls} from 'https://unpkg.com/three@0.119.1/examples/jsm/controls/OrbitControls.js';
                import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.117.1/build/three.module.js'; 
                console.log(THREE);
// ***************************************************************************
                // Creating the scene
// ***************************************************************************
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 1000 );
    
                const renderer = new THREE.WebGLRenderer();
                renderer.setSize( window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(window.devicePixelRatio);

                renderer.autoClear = false;
                renderer.setClearColor(0x00000, 0.0);
                document.body.appendChild( renderer.domElement );


// ***************************************************************************
                //Rendering Mercury
// ***************************************************************************
const mercury = new THREE.SphereGeometry(.5,32,16);
                const mercury_material = new THREE.MeshPhongMaterial({
                    roughness:1,
                    metalness:0,
                    map: THREE.ImageUtils.loadTexture('static/Mercury.jpg'),
                    // bumpMap: THREE.ImageUtils.loadTexture("static/earthbump4k.jpg"),
                    // bumpScale: .4,
                });

                const mercury_sphere = new THREE.Mesh(mercury, mercury_material);
                scene.add(mercury_sphere);

                const mercury_ambientlight = new THREE.AmbientLight(0xffffff, 0.2);
                scene.add(mercury_ambientlight);

                const mercury_pointerlight = new THREE.PointLight(0xffffff, 0.9);

                mercury_pointerlight.position.set(10,10,30);
                scene.add(mercury_pointerlight);

                const mercury_cloudgeometry = new THREE.SphereGeometry(.51,32,16);
                
                const mercury_cloudmaterial = new THREE.MeshPhongMaterial({
                    map: THREE.ImageUtils.loadTexture("static/earthCloud.png"),
                    transparent: true,
                });
                const mercury_cloudmesh = new THREE.Mesh(mercury_cloudgeometry,mercury_cloudmaterial);
                scene.add(mercury_cloudmesh);

                const mercury_group = new THREE.Group();
                mercury_group.add(mercury_cloudmesh);
                mercury_group.add(mercury_sphere);
                mercury_group.add(mercury_ambientlight);
                mercury_group.add(mercury_pointerlight);
                scene.add(mercury_group);
                mercury_group.position.set(27,0,0)

                // Mercury Axis for rotation around sun
                const mercury_plane = new THREE.CircleGeometry(25,1)
                const mercury_plane_color = new THREE.MeshBasicMaterial({color: 'black', wireframe: true});
                const mercury_circle = new THREE.Mesh(mercury_plane,mercury_plane_color);
                // earth_circle.attach(sphere)
                scene.add(mercury_circle);

                const mercury_group_rotation = new THREE.Group();
                mercury_group_rotation.add(mercury_group);
                mercury_group_rotation.add(mercury_circle);

                scene.add(mercury_group_rotation);
// ***************************************************************************
                //Rendering Venus
// ***************************************************************************
const venus = new THREE.SphereGeometry(3,32,16);
                const venus_material = new THREE.MeshPhongMaterial({
                    roughness:1,
                    metalness:0,
                    map: THREE.ImageUtils.loadTexture('static/earthmap4k.jpg'),
                    bumpMap: THREE.ImageUtils.loadTexture("static/earthbump4k.jpg"),
                    bumpScale: .4,
                });

                const venus_sphere = new THREE.Mesh(venus, venus_material);
                scene.add(venus_sphere);

                const venus_ambientlight = new THREE.AmbientLight(0xffffff, 0.2);
                scene.add(venus_ambientlight);

                const venus_pointerlight = new THREE.PointLight(0xffffff, 0.9);

                venus_pointerlight.position.set(10,10,30);
                scene.add(venus_pointerlight);

                const venus_cloudgeometry = new THREE.SphereGeometry(3.1,32,16);
                
                const venus_cloudmaterial = new THREE.MeshPhongMaterial({
                    map: THREE.ImageUtils.loadTexture("static/earthCloud.png"),
                    transparent: true,
                });
                const venus_cloudmesh = new THREE.Mesh(venus_cloudgeometry,venus_cloudmaterial);
                scene.add(venus_cloudmesh);

                const venus_group = new THREE.Group();
                venus_group.add(venus_cloudmesh);
                venus_group.add(venus_sphere);
                venus_group.add(venus_ambientlight);
                venus_group.add(venus_pointerlight);
                scene.add(venus_group);
                venus_group.position.set(80,0,0)

                // Earth Axis for rotation around sun
                const venus_plane = new THREE.CircleGeometry(100,1)
                const venus_plane_color = new THREE.MeshBasicMaterial({color: 'black', wireframe: true});
                const venus_circle = new THREE.Mesh(venus_plane,venus_plane_color);
                // earth_circle.attach(sphere)
                scene.add(venus_circle);

                const venus_group_rotation = new THREE.Group();
                venus_group_rotation.add(venus_group);
                venus_group_rotation.add(venus_circle);

                scene.add(venus_group_rotation);
// ***************************************************************************
                //Rendering Mars
// ***************************************************************************
const mars = new THREE.SphereGeometry(2,32,16);
                const mars_material = new THREE.MeshPhongMaterial({
                    roughness:1,
                    metalness:0,
                    map: THREE.ImageUtils.loadTexture('static/mars.jpg'),
                    // bumpMap: THREE.ImageUtils.loadTexture("static/earthbump4k.jpg"),
                    // bumpScale: .4,
                });

                const mars_sphere = new THREE.Mesh(mars, mars_material);
                scene.add(mars_sphere);

                const mars_ambientlight = new THREE.AmbientLight(0xffffff, 0.2);
                scene.add(mars_ambientlight);

                const mars_pointerlight = new THREE.PointLight(0xffffff, 0.9);

                mars_pointerlight.position.set(10,10,30);
                scene.add(mars_pointerlight);

                const mars_cloudgeometry = new THREE.SphereGeometry(2.01,32,16);
                
                const mars_cloudmaterial = new THREE.MeshPhongMaterial({
                    map: THREE.ImageUtils.loadTexture("static/earthCloud.png"),
                    transparent: true,
                });
                const mars_cloudmesh = new THREE.Mesh(mars_cloudgeometry,mars_cloudmaterial);
                scene.add(mars_cloudmesh);

                const mars_group = new THREE.Group();
                mars_group.add(mars_cloudmesh);
                mars_group.add(mars_sphere);
                mars_group.add(mars_ambientlight);
                mars_group.add(mars_pointerlight);
                scene.add(mars_group);
                mars_group.position.set(62,0,0)

                // Mar Axis for rotation around sun
                const mars_plane = new THREE.CircleGeometry(60,1)
                const mars_plane_color = new THREE.MeshBasicMaterial({color: 'black', wireframe: true});
                const mars_circle = new THREE.Mesh(mars_plane,mars_plane_color);
                // earth_circle.attach(sphere)
                scene.add(mars_circle);

                const mars_group_rotation = new THREE.Group();
                mars_group_rotation.add(mars_group);
                mars_group_rotation.add(mars_circle);

                scene.add(mars_group_rotation);
// ***************************************************************************
                //Rendering earth
// ***************************************************************************
const earth = new THREE.SphereGeometry(3,32,16);
                const material = new THREE.MeshPhongMaterial({
                    roughness:1,
                    metalness:0,
                    map: THREE.ImageUtils.loadTexture('static/earthmap4k.jpg'),
                    bumpMap: THREE.ImageUtils.loadTexture("static/earthbump4k.jpg"),
                    bumpScale: .4,
                });

                const sphere = new THREE.Mesh(earth, material);
                scene.add(sphere);

                const ambientlight = new THREE.AmbientLight(0xffffff, 0.2);
                scene.add(ambientlight);

                const pointerlight = new THREE.PointLight(0xffffff, 0.9);

                pointerlight.position.set(10,10,30);
                scene.add(pointerlight);

                const cloudgeometry = new THREE.SphereGeometry(3.1,32,16);
                
                const cloudmaterial = new THREE.MeshPhongMaterial({
                    map: THREE.ImageUtils.loadTexture("static/earthCloud.png"),
                    transparent: true,
                });
                const cloudmesh = new THREE.Mesh(cloudgeometry,cloudmaterial);
                scene.add(cloudmesh);

                const earth_group = new THREE.Group();
                earth_group.add(cloudmesh);
                earth_group.add(sphere);
                earth_group.add(ambientlight);
                earth_group.add(pointerlight);
                scene.add(earth_group);
                earth_group.position.set(105,0,0)

                // Earth Axis for rotation around sun
                const earth_plane = new THREE.CircleGeometry(100,1)
                const plane_color = new THREE.MeshBasicMaterial({color: 'black', wireframe: true});
                const earth_circle = new THREE.Mesh(earth_plane,plane_color);
                // earth_circle.attach(sphere)
                scene.add(earth_circle);

                const earth_group_rotation = new THREE.Group();
                earth_group_rotation.add(earth_group);
                earth_group_rotation.add(earth_circle);

                scene.add(earth_group_rotation);
// ***************************************************************************
                //Rendering Jupiter
// ***************************************************************************
const jupiter = new THREE.SphereGeometry(10,32,16);
                const jupiter_material = new THREE.MeshPhongMaterial({
                    roughness:1,
                    metalness:0,
                    map: THREE.ImageUtils.loadTexture('static/jupiter.jpg'),
                    // bumpMap: THREE.ImageUtils.loadTexture("static/earthbump4k.jpg"),
                    bumpScale: .4,
                });

                const jupiter_sphere = new THREE.Mesh(jupiter, jupiter_material);
                scene.add(jupiter);

                const jupiter_ambientlight = new THREE.AmbientLight(0xffffff, 0.2);
                scene.add(jupiter_ambientlight);

                const jupiter_pointerlight = new THREE.PointLight(0xffffff, 0.9);

                jupiter_pointerlight.position.set(10,10,30);
                scene.add(jupiter_pointerlight);

                const jupiter_cloudgeometry = new THREE.SphereGeometry(10.1,32,16);
                
                const jupiter_cloudmaterial = new THREE.MeshPhongMaterial({
                    map: THREE.ImageUtils.loadTexture("static/earthCloud.png"),
                    transparent: true,
                });
                const jupiter_cloudmesh = new THREE.Mesh(jupiter_cloudgeometry,jupiter_cloudmaterial);
                scene.add(jupiter_cloudmesh);

                const jupiter_group = new THREE.Group();
                jupiter_group.add(jupiter_cloudmesh);
                jupiter_group.add(jupiter_sphere);
                jupiter_group.add(jupiter_ambientlight);
                jupiter_group.add(jupiter_pointerlight);
                scene.add(jupiter_group);
                jupiter_group.position.set(205,0,0)

                // Earth Axis for rotation around sun
                const jupiter_plane = new THREE.CircleGeometry(200,1)
                const jupiter_plane_color = new THREE.MeshBasicMaterial({color: 'black', wireframe: true});
                const jupiter_circle = new THREE.Mesh(jupiter_plane,jupiter_plane_color);
                // earth_circle.attach(sphere)
                scene.add(jupiter_circle);

                const jupiter_group_rotation = new THREE.Group();
                jupiter_group_rotation.add(jupiter_group);
                jupiter_group_rotation.add(jupiter_circle);

                scene.add(jupiter_group_rotation);
// ***************************************************************************
                //Rendering Saturn
// ***************************************************************************

// ***************************************************************************
                //Rendering Uranus
// ***************************************************************************

// ***************************************************************************
                //Rendering Neptune
// ***************************************************************************
// ***************************************************************************
              //Rendering Sun
// ***************************************************************************
const sun = new THREE.SphereGeometry(20,32,16);
                const sun_material = new THREE.MeshPhongMaterial({
                    roughness:1,
                    metalness:0,
                    map: THREE.ImageUtils.loadTexture("static/sun8k.jpg"),
                    // bumpMap: THREE.ImageUtils.loadTexture("static/earthbump4k.jpg"),
                    // bumpScale: 12,
                });

                const sun_sphere = new THREE.Mesh(sun, sun_material);
                // sun_sphere.position.set(100,100,0);
                scene.add(sun_sphere);

                const sun_light = new THREE.AmbientLight(0xffffff, 0.2);
                scene.add(ambientlight);

                const sun_pointerlight = new THREE.PointLight(0xffffff, 0.9);

                sun_pointerlight.position.set(10,10,30);
                scene.add(sun_pointerlight);

                //Sun Axis for rotation around sun
                const sun_plane = new THREE.CircleGeometry(20,10)
                const sun_plane_color = new THREE.MeshBasicMaterial({color: 'yellow', wireframe: true});
                const sun_circle = new THREE.Mesh(sun_plane,sun_plane_color);
                // earth_circle.attach(sphere)
                scene.add(sun_circle);
// ***************************************************************************
                // Animate the Solar System
// ***************************************************************************
                camera.position.z = 200;
            
                const controls = new OrbitControls(camera,renderer.domElement)
                function animate() {
                    requestAnimationFrame(animate);
                    renderer.render( scene, camera );
    
                    // sphere.rotation.x += 0.00;
                    cloudmesh.rotation.z += 0.012;
                    sphere.rotation.z += 0.01;   
                    mars_group_rotation.rotation.z += 0.002;
                    venus_group_rotation.rotation.z += 0.004;
                    earth_group_rotation.rotation.z += 0.005;
                    mercury_group_rotation.rotation.z += 0.01;
                    jupiter_group_rotation.rotation.z += 0.001;
                    sun_sphere.rotation.z += .001;
                    sun_circle.rotation.z += .001;
                    controls.update();
                }
                animate();
            </script>
        </div>
        
        
    <div class="bottom">
        <a class="header-button" href="{% url 'login' %}">Login</a>
        <a class="header-button" href="{% url 'register' %}">Register</a>
        <a class="header-button" href="{% url 'logout' %}">Sign out</a>
        <a class="header-button" href="{% url 'index' %}">Home</a>
    </div>

</body>
</html>